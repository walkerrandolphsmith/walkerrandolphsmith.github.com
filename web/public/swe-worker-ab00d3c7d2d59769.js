self.onmessage=async e=>{switch(e.data.type){case"__START_URL_CACHE__":{let t=e.data.url,a=await fetch(t);if(!a.redirected){let e=await caches.open("start-url");return e.put(t,a)}return Promise.resolve()}case"__FRONTEND_NAV_CACHE__":{let t=e.data.url,a=await caches.open("pages"),r=!!await a.match(t,{ignoreSearch:!0});if(r)return;let s=await fetch(t);if(!s.ok)return;return a.put(t,s.clone()),Promise.resolve()}default:return Promise.resolve()}};